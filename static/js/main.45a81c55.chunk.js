(this["webpackJsonpchess-main"]=this["webpackJsonpchess-main"]||[]).push([[0],{20:function(e,t,i){},21:function(e,t,i){},22:function(e,t,i){},23:function(e,t,i){},46:function(e,t,i){"use strict";i.r(t);var n=i(1),s=i.n(n),r=i(7),o=i.n(r),c=(i(20),i(21),i(2)),u=(i(22),i(23),i(0));function p(e){return"none"!==e.piece?Object(u.jsx)("div",{className:"tile "+e.type,children:Object(u.jsx)("div",{className:"piece",style:{backgroundImage:"url(assets/pieces/"+e.colour+"_"+e.piece+".svg)"}})}):Object(u.jsx)("div",{className:"tile "+e.type})}for(var a=i(3),l=function e(t,i,n,s){Object(a.a)(this,e),this.x=t,this.y=i,this.type=n,this.colour=s,this.enPassant=!1,this.isMoved=!1,this.taken=!1},h=i(13),f=function(){function e(){Object(a.a)(this,e)}return Object(h.a)(e,[{key:"tileIsOccupied",value:function(e,t,i){return!!i.find((function(i){return i.x===e&&i.y===t}))}},{key:"tileIsOccupiedByOpponentOrEmpty",value:function(e,t,i,n){return!(!this.tileIsOccupiedByOpponent(e,t,i,n)&&this.tileIsOccupied(e,t,i))}},{key:"tileIsOccupiedByOpponent",value:function(e,t,i,n){return!!i.find((function(i){return i.x===e&&i.y===t&&i.colour!==n}))}},{key:"isEnPassant",value:function(e,t,i,n,s,r,o,c){var u="w"===r?1*c:-1*c;if("pawn"===s){if(1!==Math.abs(i-e)||n-t!==u)return!1;var p=o.find((function(e){return e.x===i&&e.y===n-u&&e.enPassant}));if(p)return p.taken=!0,!0}}},{key:"tileIsOccupiedByOpponentSpec",value:function(e,t,i,n,s){return!!i.find((function(i){return i.x===e&&i.y===t&&i.colour!==n&&i.type===s}))}},{key:"isInCheck",value:function(e,t,i){for(var n="w"===e?1*i:-1*i,s=t.find((function(t){return"king"===t.type&&t.colour===e})),r=1,o=0,c=s.x+r,u=s.y+o;c<=7;){if(this.tileIsOccupied(c,u,t)){if(this.tileIsOccupiedByOpponentSpec(c,u,t,e,"queen")||this.tileIsOccupiedByOpponentSpec(c,u,t,e,"rook"))return!0;break}c+=r}for(r=1,o=1,c=s.x+r,u=s.y+o;c<=7&&u<=7;){if(this.tileIsOccupied(c,u,t)){if(this.tileIsOccupiedByOpponentSpec(c,u,t,e,"queen")||this.tileIsOccupiedByOpponentSpec(c,u,t,e,"bishop"))return!0;break}c+=r,u+=o}for(r=0,o=1,c=s.x+r,u=s.y+o;u<=7;){if(this.tileIsOccupied(c,u,t)){if(this.tileIsOccupiedByOpponentSpec(c,u,t,e,"queen")||this.tileIsOccupiedByOpponentSpec(c,u,t,e,"rook"))return!0;break}u+=o}for(r=-1,o=1,c=s.x+r,u=s.y+o;c>=0&&u<=7;){if(this.tileIsOccupied(c,u,t)){if(this.tileIsOccupiedByOpponentSpec(c,u,t,e,"queen")||this.tileIsOccupiedByOpponentSpec(c,u,t,e,"bishop"))return!0;break}c+=r,u+=o}for(r=-1,o=0,c=s.x+r,u=s.y+o;c>=0;){if(this.tileIsOccupied(c,u,t)){if(this.tileIsOccupiedByOpponentSpec(c,u,t,e,"queen")||this.tileIsOccupiedByOpponentSpec(c,u,t,e,"rook"))return!0;break}c+=r}for(r=-1,o=-1,c=s.x+r,u=s.y+o;c>=0&&u>=0;){if(this.tileIsOccupied(c,u,t)){if(this.tileIsOccupiedByOpponentSpec(c,u,t,e,"queen")||this.tileIsOccupiedByOpponentSpec(c,u,t,e,"bishop"))return!0;break}c+=r,u+=o}for(r=0,o=-1,c=s.x+r,u=s.y+o;u>=0;){if(this.tileIsOccupied(c,u,t)){if(this.tileIsOccupiedByOpponentSpec(c,u,t,e,"queen")||this.tileIsOccupiedByOpponentSpec(c,u,t,e,"rook"))return!0;break}u+=o}for(r=1,o=-1,c=s.x+r,u=s.y+o;c<=7&&u>=0;){if(this.tileIsOccupied(c,u,t)){if(this.tileIsOccupiedByOpponentSpec(c,u,t,e,"queen")||this.tileIsOccupiedByOpponentSpec(c,u,t,e,"bishop"))return!0;break}c+=r,u+=o}return!!(this.tileIsOccupiedByOpponentSpec(s.x+1,s.y+1,t,e,"king")||this.tileIsOccupiedByOpponentSpec(s.x-1,s.y+1,t,e,"king")||this.tileIsOccupiedByOpponentSpec(s.x,s.y+1,t,e,"king")||this.tileIsOccupiedByOpponentSpec(s.x+1,s.y-1,t,e,"king")||this.tileIsOccupiedByOpponentSpec(s.x-1,s.y-1,t,e,"king")||this.tileIsOccupiedByOpponentSpec(s.x,s.y-1,t,e,"king")||this.tileIsOccupiedByOpponentSpec(s.x+1,s.y,t,e,"king")||this.tileIsOccupiedByOpponentSpec(s.x-1,s.y,t,e,"king")||this.tileIsOccupiedByOpponentSpec(s.x+1,s.y+n,t,e,"pawn")||this.tileIsOccupiedByOpponentSpec(s.x-1,s.y+n,t,e,"pawn")||this.tileIsOccupiedByOpponentSpec(s.x+2,s.y+1,t,e,"knight")||this.tileIsOccupiedByOpponentSpec(s.x+2,s.y-1,t,e,"knight")||this.tileIsOccupiedByOpponentSpec(s.x+1,s.y+2,t,e,"knight")||this.tileIsOccupiedByOpponentSpec(s.x+1,s.y-2,t,e,"knight")||this.tileIsOccupiedByOpponentSpec(s.x-1,s.y+2,t,e,"knight")||this.tileIsOccupiedByOpponentSpec(s.x-1,s.y-2,t,e,"knight")||this.tileIsOccupiedByOpponentSpec(s.x-2,s.y+1,t,e,"knight")||this.tileIsOccupiedByOpponentSpec(s.x-2,s.y-1,t,e,"knight"))}},{key:"hasValidMovesRemaining",value:function(e,t,i){for(var n=[],s="w"===e?1*i:-1*i,r=0;r<t.length;r++)t[r].colour===e&&n.push(t[r]);for(var o=0;o<n.length;o++){var c=n[o].x,u=n[o].y,p=n[o].type;switch(p){case"pawn":if(this.isValidMove(c,u,c,u+s,p,e,t,i))return!0;if(this.isValidMove(c,u,c,u+2*s,p,e,t,i))return!0;if(this.isValidMove(c,u,c+1,u+s,p,e,t,i))return!0;if(this.isValidMove(c,u,c-1,u+s,p,e,t,i))return!0;break;case"king":if(this.isValidMove(c,u,c+1,u,p,e,t,i))return!0;if(this.isValidMove(c,u,c+1,u+1,p,e,t,i))return!0;if(this.isValidMove(c,u,c+1,u-1,p,e,t,i))return!0;if(this.isValidMove(c,u,c-1,u,p,e,t,i))return!0;if(this.isValidMove(c,u,c-1,u+1,p,e,t,i))return!0;if(this.isValidMove(c,u,c-1,u-1,p,e,t,i))return!0;if(this.isValidMove(c,u,c,u-1,p,e,t,i))return!0;if(this.isValidMove(c,u,c,u+1,p,e,t,i))return!0;break;case"bishop":for(var a=1;a<=7;a++){if(this.isValidMove(c,u,c+a,u+a,p,e,t,i))return!0;if(this.isValidMove(c,u,c+a,u-a,p,e,t,i))return!0;if(this.isValidMove(c,u,c-a,u+a,p,e,t,i))return!0;if(this.isValidMove(c,u,c-a,u-a,p,e,t,i))return!0}break;case"queen":for(var l=1;l<=7;l++){if(this.isValidMove(c,u,c+l,u+l,p,e,t,i))return!0;if(this.isValidMove(c,u,c+l,u-l,p,e,t,i))return!0;if(this.isValidMove(c,u,c-l,u+l,p,e,t,i))return!0;if(this.isValidMove(c,u,c-l,u-l,p,e,t,i))return!0;if(this.isValidMove(c,u,c,u+l,p,e,t,i))return!0;if(this.isValidMove(c,u,c,u-l,p,e,t,i))return!0;if(this.isValidMove(c,u,c+l,u,p,e,t,i))return!0;if(this.isValidMove(c,u,c-l,u,p,e,t,i))return!0}break;case"rook":for(var h=1;h<=7;h++){if(this.isValidMove(c,u,c,u+h,p,e,t,i))return!0;if(this.isValidMove(c,u,c,u-h,p,e,t,i))return!0;if(this.isValidMove(c,u,c+h,u,p,e,t,i))return!0;if(this.isValidMove(c,u,c-h,u,p,e,t,i))return!0}break;case"knight":if(this.isValidMove(c,u,c+1,u+2,p,e,t,i))return!0;if(this.isValidMove(c,u,c+1,u-2,p,e,t,i))return!0;if(this.isValidMove(c,u,c+2,u+1,p,e,t,i))return!0;if(this.isValidMove(c,u,c+2,u-1,p,e,t,i))return!0;if(this.isValidMove(c,u,c-1,u-2,p,e,t,i))return!0;if(this.isValidMove(c,u,c-1,u+2,p,e,t,i))return!0;if(this.isValidMove(c,u,c-2,u-1,p,e,t,i))return!0;if(this.isValidMove(c,u,c-2,u+1,p,e,t,i))return!0}}return!1}},{key:"isStalemate",value:function(e,t,i,n,s){if(e||0===t.length)return!1;var r=t.length;return t.length>=12&&t[r-1].toString()+t[r-2].toString()+t[r-3].toString()+t[r-4].toString()===t[r-5].toString()+t[r-6].toString()+t[r-7].toString()+t[r-8].toString()&&t[r-1].toString()+t[r-2].toString()+t[r-3].toString()+t[r-4].toString()===t[r-9].toString()+t[r-10].toString()+t[r-11].toString()+t[r-12].toString()||(2===n.length||(!(3!==n.length||!n.find((function(e){return"bishop"===e.type||"knight"===e.type})))||!this.hasValidMovesRemaining(i,n,s)))}},{key:"isCheckmate",value:function(e,t,i,n){return!!e&&!this.hasValidMovesRemaining(t,i,n)}},{key:"isValidMove",value:function(e,t,i,n,s,r,o,c,u){var p=o.find((function(e){return"king"===e.type&&"w"===e.colour})),a=o.find((function(e){return"king"===e.type&&"b"===e.colour}));if(i===e&&n===t)return!1;if(i===p.x&&n===p.y||i===a.x&&n===a.y)return!1;if(i>7||i<0||n>7||n<0)return!1;var l=o.find((function(i){return i.x===e&&i.y===t})),h=o.find((function(e){return e.x===i&&e.y===n}));if(h&&o.splice(o.findIndex((function(e){return e.x===i&&e.y===n})),1),l&&(l.x=i,l.y=n,this.isInCheck(r,o,c)))return l.x=e,l.y=t,h&&o.push(h),!1;switch(l.x=e,l.y=t,h&&o.push(h),s){case"pawn":var f;f=1===c?"w"===r?1:6:"w"===r?6:1;var d="w"===r?1*c:-1*c;return e===i&&t===f&&n-t===2*d?!this.tileIsOccupied(i,n,o)&&!this.tileIsOccupied(i,n-d,o):e===i&&n-t===d?!this.tileIsOccupied(i,n,o)&&(0!==n&&7!==n||(l.type="queen",console.log("queen")),!0):n-t===d&&(1===Math.abs(i-e)&&(!!this.tileIsOccupiedByOpponent(i,n,o,r)&&(0!==n&&7!==n||(l.type="queen"),!0)));case"rook":if(i===e||n===t){var y=0,O=0;i===e?y=n-t<0?-1:1:O=i-e<0?-1:1;for(var v=e+O,g=t+y;Math.abs(v-i)>0||Math.abs(g-n)>0;){if(this.tileIsOccupied(v,g,o))return!1;v+=O,g+=y}return!!this.tileIsOccupiedByOpponentOrEmpty(i,n,o,r)}return!1;case"knight":return(1===Math.abs(i-e)&&2===Math.abs(n-t)||2===Math.abs(i-e)&&1===Math.abs(n-t))&&!(!this.tileIsOccupiedByOpponent(i,n,o,r)&&this.tileIsOccupied(i,n,o));case"bishop":if(Math.abs(i-e)===Math.abs(n-t)){for(var b=i-e<0?-1:1,x=n-t<0?-1:1,w=e+b,k=t+x;Math.abs(w-i)>0&&Math.abs(k-n)>0;){if(this.tileIsOccupied(w,k,o))return!1;w+=b,k+=x}return!!this.tileIsOccupiedByOpponentOrEmpty(i,n,o,r)}return!1;case"queen":if(Math.abs(i-e)===Math.abs(n-t)||i===e||n===t){var M=0,S=0;n-t<0?M=-1:n>t&&(M=1),i-e<0?S=-1:i>e&&(S=1);for(var I=e+S,j=t+M;Math.abs(I-i)>0||Math.abs(j-n)>0;){if(this.tileIsOccupied(I,j,o))return!1;I+=S,j+=M}return!!this.tileIsOccupiedByOpponentOrEmpty(i,n,o,r)}return!1;case"king":if(Math.abs(i-e)<=1&&Math.abs(n-t)<=1)return!!this.tileIsOccupiedByOpponentOrEmpty(i,n,o,r);if(2!==Math.abs(i-e)||n!==t||u)return!1;var B=0;i-e<0?B=-1:i>e&&(B=1);var m=e+B,V=0;for(1===B&&(V=7);m!==V;){if(this.tileIsOccupied(m,n,o))return!1;m+=B}var q=o.find((function(e){return e.x===m&&e.y===t}));return!(!q||l.isMoved||q.isMoved)&&(q.x=i-B,!0);default:return!1}}}]),e}(),d=["A","B","C","D","E","F","G","H"],y=["1","2","3","4","5","6","7","8"],O=["A","B","C","D","E","F","G","H"],v=["1","2","3","4","5","6","7","8"],g=["H","G","F","E","D","C","B","A"],b=["8","7","6","5","4","3","2","1"],x=i.p+"static/media/move.205baa9a.mp3",w=i(14),k=i(15),M=i.n(k),S=i(4),I=new S.Game,j=[],B="w",m=!1,V=[],q=[],P="w",H="w"===P?1:-1,C=0;C<2;C++){var E=0===C?"b":"w",W=0===C?7:0;j.push(new l(0,W,"rook",E)),j.push(new l(7,W,"rook",E)),j.push(new l(1,W,"knight",E)),j.push(new l(6,W,"knight",E)),j.push(new l(2,W,"bishop",E)),j.push(new l(5,W,"bishop",E)),j.push(new l(4,W,"king",E)),j.push(new l(3,W,"queen",E))}for(var A=0;A<d.length;A++)j.push(new l(A,1,"pawn","w"));for(var F=0;F<d.length;F++)j.push(new l(F,y.length-2,"pawn","b"));function L(){var e=Object(n.useState)(0),t=Object(c.a)(e,2),i=t[0],s=t[1],r=Object(n.useState)(null),o=Object(c.a)(r,2),a=o[0],h=o[1],k=Object(n.useState)(0),C=Object(c.a)(k,2),E=C[0],W=C[1],A=Object(n.useState)(0),F=Object(c.a)(A,2),L=F[0],T=F[1],_=Object(n.useState)(j),G=Object(c.a)(_,2),D=G[0],z=G[1],R=Object(n.useState)(!1),X=Object(c.a)(R,2),Y=X[0],N=X[1],J=Object(n.useState)(null),U=Object(c.a)(J,2),K=U[0],Q=U[1],Z=Object(n.useRef)(null),$=new f,ee=[],te="",ie=[],ne=[],se=[];console.log(i);for(var re=function(e){for(var t=function(t){var i,n,s=D.find((function(i){return i.x===t&&i.y===e}));i=s?s.type:"none",n=s?s.colour:"none",te=(e+t)%2===0?"black-tile":"white-tile",se.push(te),ne.push(i),ie.push(n)},i=0;i<d.length;i++)t(i)},oe=y.length-1;oe>=0;oe--)re(oe);var ce=Object(n.useState)(se),ue=Object(c.a)(ce,2),pe=ue[0],ae=ue[1];function le(){var e=D.find((function(e){return"king"===e.type&&e.colour===B})),t=pe;t[8*(7-e.y)+e.x]="w"===P?(e.y+e.x)%2===0?"black-tile":"white-tile":(e.y+e.x)%2===0?"white-tile":"black-tile",console.log(8*(7-e.y)+e.x),ae(t),m=!1}function he(){if("b"===P)for(var e=0;e<pe.length;e++)pe[e]="white-tile"===pe[e]?"black-tile":"white-tile";var t=[];I=new S.Game,B="w",m=!1,V=[],q=[],Q(""),P="w",H=1;for(var i=0;i<2;i++){var n=0===i?"b":"w",s=0===i?7:0;t.push(new l(0,s,"rook",n)),t.push(new l(7,s,"rook",n)),t.push(new l(1,s,"knight",n)),t.push(new l(6,s,"knight",n)),t.push(new l(2,s,"bishop",n)),t.push(new l(5,s,"bishop",n)),t.push(new l(4,s,"king",n)),t.push(new l(3,s,"queen",n))}for(var r=0;r<d.length;r++)t.push(new l(r,1,"pawn","w"));for(var o=0;o<d.length;o++)t.push(new l(o,y.length-2,"pawn","b"));return z(t),t}function fe(){if(console.log("settting black"),"w"===P)for(var e=0;e<pe.length;e++)pe[e]="white-tile"===pe[e]?"black-tile":"white-tile";var t=[];I=new S.Game,B="w",m=!1,V=[],q=[],Q(""),P="b",H=-1;for(var i=0;i<2;i++){var n=0===i?"w":"b",s=0===i?7:0;t.push(new l(0,s,"rook",n)),t.push(new l(7,s,"rook",n)),t.push(new l(1,s,"knight",n)),t.push(new l(6,s,"knight",n)),t.push(new l(2,s,"bishop",n)),t.push(new l(5,s,"bishop",n)),t.push(new l(3,s,"king",n)),t.push(new l(4,s,"queen",n))}for(var r=0;r<d.length;r++)t.push(new l(r,1,"pawn","b"));for(var o=0;o<d.length;o++)t.push(new l(o,y.length-2,"pawn","w"));return z(t),t}function de(e){e.style.position="relative",e.style.removeProperty("top"),e.style.removeProperty("left")}function ye(){new w.Howl({src:[x]}).play()}function Oe(e,t){return console.log(O.indexOf(e),v.indexOf(t)),"w"===P?(console.log(O.indexOf(e),v.indexOf(t)),[O.indexOf(e),v.indexOf(t)]):[g.indexOf(e),b.indexOf(t)]}function ve(e,t){return"w"===P?[O[e],v[t]]:[g[e],b[t]]}Object(n.useEffect)((function(){console.log(I.getHistory()),B!==P&&setTimeout((function(){!function(){var e=I.aiMove(),t=Object.keys(e)[0],i=e[Object.keys(e)];m&&le();var n=t.charAt(0),s=t.charAt(1),r=i.charAt(0),o=i.charAt(1),c=Oe(n,s),u=Oe(r,o);B="w"===B?"b":"w",console.log(e),m&&le();ye(),function(e,t,i,n){q=D.reduce((function(s,r){if(r.x===e&&r.y===t&&r.colour!==P){if(2===Math.abs(t-n)&&"pawn"===r.type?r.enPassant=!0:r.enPassant=!1,"pawn"!==r.type||0!==n&&7!==n||(r.type="queen"),V.push(r.type+r.colour+i.toString()+n.toString()),r.isMoved=!0,r.x=i,r.y=n,s.push(r),console.log(e,t,r.colour),"king"===r.type&&Math.abs(e-i)>1){var o=D.find((function(t){return t.x===(i-e>0?7:0)&&7===t.y}));o.x=e>i?r.x+1:r.x-1}}else r.x===i&&r.y===n||("pawn"===r.type&&(r.enPassant=!1),("pawn"!==r.type||r.x!==i||r.y!==n-("w"===B?-1*H:H)||1!==Math.abs(e-i)||1!==Math.abs(t-n)||D.find((function(e){return e.x===i&&e.y===n})))&&s.push(r));return s}),[]),z(q),function(e,t){if($.isInCheck(e,D,t)){m=!0,console.log("check");var i=D.find((function(t){return"king"===t.type&&t.colour===e})),n=pe;n[8*(7-i.y)+i.x]="red-tile",ae(n)}$.isCheckmate(m,e,D,t)&&(console.log("game over"),le(),z("w"===P?fe():he()),Q(("b"===P?"Black":"White")+" Wins"),N(!0));$.isStalemate(m,V,e,D,t)&&(z("w"===P?fe():he()),Q("Stalemate"),N(!0))}(P,H)}(c[0],c[1],u[0],u[1])}(),s(0),console.log(D)}),2e3)}),[D]);for(var ge=0;ge<pe.length;ge++)ee.push(Object(u.jsx)(p,{type:pe[ge],piece:ne[ge],colour:ie[ge]},ge));return Object(u.jsxs)("div",{onMouseMove:function(e){return function(e){var t=Z.current;if(a&&t){var i=t.offsetLeft-a.offsetWidth/4,n=t.offsetTop-a.offsetHeight/4,s=t.offsetLeft+t.clientWidth-3*a.clientWidth/4,r=t.offsetTop+t.clientHeight-3*a.clientHeight/4,o=e.clientX-a.offsetWidth/2,c=e.clientY-a.offsetHeight/2;a.style.position="absolute",a.style.left=o<i?i+"px":o>s?s+"px":o+"px",a.style.top=c<n?n+"px":c>r?r+"px":c+"px"}}(e)},onMouseDown:function(e){return function(e){var t=e.target,i=Z.current;if(t.classList.contains("piece")&&i){W(Math.floor((e.clientX-i.offsetLeft)/(i.offsetWidth/8))),T(Math.abs(Math.ceil((e.clientY-i.offsetTop-i.offsetHeight)/(i.offsetHeight/8))));var n=e.clientX-t.offsetWidth/2,s=e.clientY-t.offsetHeight/2;t.style.position="absolute",t.style.left=n+"px",t.style.top=s+"px",t.style.zIndex=90,h(t)}}(e)},onMouseUp:function(e){return function(e){var t=Z.current;if(a&&t){a.style.zIndex=10;var i=Math.floor((e.clientX-t.offsetLeft)/(t.offsetWidth/8)),n=Math.abs(Math.ceil((e.clientY-t.offsetTop-t.offsetHeight)/(t.offsetHeight/8))),s=D.find((function(e){return e.x===E&&e.y===L}));if(s&&s.colour===P&&s.colour===B){var r=$.isValidMove(E,L,i,n,s.type,s.colour,D,H,m);if($.isEnPassant(E,L,i,n,s.type,s.colour,D,H)){var o=ve(E.toString(),L.toString()),c=ve(i.toString(),n.toString());I.move(o[0]+o[1],c[0]+c[1]),V.push(s.type+s.colour+i.toString()+n.toString()),m&&le(),ye(),s.isMoved=!0,B="w"===B?"b":"w";var u="w"===s.colour?1*H:-1*H;q=D.reduce((function(e,t){return t.x===E&&t.y===L?(t.enPassant=!1,t.isMoved=!0,t.x=i,t.y=n,e.push(t)):t.x===i&&t.y===n-u||t.x===i&&t.y===n-H||("pawn"===t.type&&(t.enPassant=!1),console.log("adding "+t.colour+" "+t.type+" at "+t.x+" "+t.y),e.push(t)),e}),[]),z(q)}else if(r){var p=ve(E.toString(),L.toString()),l=ve(i.toString(),n.toString());I.move(p[0]+p[1],l[0]+l[1]),V.push(s.type+s.colour+i.toString()+n.toString()),m&&le(),ye(),s.isMoved=!0,B="w"===B?"b":"w",q=D.reduce((function(e,t){return t.x===E&&t.y===L?(2===Math.abs(L-n)&&"pawn"===t.type?t.enPassant=!0:t.enPassant=!1,t.isMoved=!0,t.x=i,t.y=n,e.push(t)):t.x===i&&t.y===n||("pawn"===t.type&&(t.enPassant=!1),console.log("adding "+t.colour+" "+t.type+" at "+t.x+" "+t.y),e.push(t)),e}),[]),z(q)}else de(a)}else a&&de(a);h(null)}else a&&de(a);if($.isInCheck(B,D,H)){m=!0;var f=D.find((function(e){return"king"===e.type&&e.colour===B})),d=pe;d[8*(7-f.y)+f.x]="red-tile",ae(d)}$.isCheckmate(m,B,q,H)&&(le(),z("w"===P?fe():he()),Q(("b"===P?"White":"Black")+" Wins"),N(!0)),$.isStalemate(m,V,B,q,H)&&(z("w"===P?fe():he()),Q("Stalemate"),N(!0))}(e)},id:"chessboard",ref:Z,children:[ee,Object(u.jsxs)(M.a,{style:{overlay:{zIndex:100},content:{zIndex:100}},isOpen:Y,ariaHideApp:!1,children:[Object(u.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),Object(u.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:!0}),Object(u.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Manrope:wght@200&display=swap",rel:"stylesheet"}),Object(u.jsx)("div",{id:"modal_container",children:Object(u.jsxs)("div",{id:"mess_button_container",children:[Object(u.jsx)("header",{id:"modal_message",children:K}),Object(u.jsx)("button",{id:"play_again_button",onClick:function(){N(!1)},children:"Play Again?"})]})})]})]})}function T(){return Object(u.jsx)("div",{})}var _=function(){return Object(u.jsxs)("div",{id:"app",children:[Object(u.jsx)(L,{}),Object(u.jsx)(T,{})]})},G=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,47)).then((function(t){var i=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;i(e),n(e),s(e),r(e),o(e)}))};o.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(_,{})}),document.getElementById("root")),G()}},[[46,1,2]]]);
//# sourceMappingURL=main.45a81c55.chunk.js.map